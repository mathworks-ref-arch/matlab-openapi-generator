

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Server Request and Response Classes &mdash; MATLAB Generator for OpenAPI  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/css/mathworks.css?v=0dd1dfac" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=35a8b989"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Server Generation Example" href="ServerExample.html" />
    <link rel="prev" title="Building MATLAB Server Code" href="BuildServer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MATLAB Generator for OpenAPI
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Client Code Generation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="BuildClient.html">Building MATLAB Client Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="CustomizingGeneratedCode.html">Customizing Generated Client Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Options.html">Client Generator Configuration Options</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MATLAB Client Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="BasicUsage.html">Basic Usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MATLAB Client Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CustomizationExampleAirflow.html">Advanced Example: Customizing the Generator (for Apache Airflow)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Server Code Generation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BuildServer.html">Building MATLAB Server Code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server Request and Response Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="ServerExample.html">Server Generation Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="InheritanceAndPolymorphism.html">Inheritance and Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSONMapper.html">JSONMapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="SwaggerUI.html">Swagger UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="References.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MATLAB Generator for OpenAPI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Server Request and Response Classes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="server-request-and-response-classes">
<h1>Server Request and Response Classes<a class="headerlink" href="#server-request-and-response-classes" title="Link to this heading"></a></h1>
<p>This section of the documentation documents the <a class="reference internal" href="#Request" title="Request"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Request</span></code></a> and <a class="reference internal" href="#Response" title="Response"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Response</span></code></a> classes in more detail.</p>
<dl class="mat class">
<dt class="sig sig-object mat" id="Request">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Request</span></span><a class="headerlink" href="#Request" title="Link to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="#Request" title="Request"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Request</span></code></a> class basically only has properties which you can simply read from directly. You do not need to interact with any of its methods.</p>
<p><strong>Properties</strong></p>
<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Raw">
<span class="sig-name descname"><span class="pre">Raw</span></span><a class="headerlink" href="#Request.Raw" title="Link to this definition"></a></dt>
<dd><p>The original raw request in its Custom Routes and Payloads low-level structure format. Generally you should not have to interact with this directly, and instead use the higher-level properties listed below, but it is available here if necessary.</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Params">
<span class="sig-name descname"><span class="pre">Params</span></span><a class="headerlink" href="#Request.Params" title="Link to this definition"></a></dt>
<dd><p>A structure representing all the path parameters which were parsed from the path. If there are no path parameters defined for the operation, this will be an empty struct. If path parameters have been defined it will be a structure in which the names of the fields match the names of the path parameters. The fields should always exist, but their values may be empty depending on how the operation was called exactly.</p>
<p>Note that all values will always be strings. If you are expecting a numerical value convert it as appropriate.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Do <strong>not</strong> use <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/str2num.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">str2num</span></code></a> to convert path parameter values to numerical values. Its usage of <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/eval.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">eval</span></code></a> can lead to security vulnerabilities.</p>
</div>
<p>For example if a route was defined as:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/some/path/{foo}/{bar}&#39;</span><span class="p">,@</span><span class="n">myHandler</span><span class="p">);</span>
</pre></div>
</div>
<p>Then inside <code class="docutils literal notranslate"><span class="pre">&#64;myHandler</span></code> you should be able to write:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nf">myHandler</span><span class="p">(</span>req,res,~<span class="p">)</span>
<span class="w">    </span><span class="c">% Get the value of Path parameter foo</span>
<span class="w">    </span><span class="n">foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">Params</span><span class="p">.</span><span class="n">foo</span><span class="p">;</span>
<span class="w">    </span><span class="c">% And bar</span>
<span class="w">    </span><span class="nb">bar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">Params</span><span class="p">.</span><span class="n">bar</span>
</pre></div>
</div>
<p>And the following table then shows what values <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> could for example get, depending on the request path:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Request Path</p></th>
<th class="head"><p>foo</p></th>
<th class="head"><p>bar</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>/some/path/abc</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;abc&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>/some/path/abc/123</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;abc&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;123&quot;</span></code></p></td>
</tr>
</tbody>
</table>
<p>Note that if you make a request to <code class="docutils literal notranslate"><span class="pre">/some/path</span></code>, this will not be handled by <code class="docutils literal notranslate"><span class="pre">&#64;myHandler</span></code> at all, only the <em>last</em> path parameter may be empty.</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Query">
<span class="sig-name descname"><span class="pre">Query</span></span><a class="headerlink" href="#Request.Query" title="Link to this definition"></a></dt>
<dd><p>A dictionary with all query parameters. The query parameters are also available as part of the <a class="reference internal" href="#Request.Path" title="Request.Path"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Path</span></code></a> property, but this provides a more convenient way to access them. Note that all values will always be strings. If you are expecting a numerical value convert it as appropriate.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Do <strong>not</strong> use <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/str2num.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">str2num</span></code></a> to convert query parameter values to numerical values. Its usage of <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/eval.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">eval</span></code></a> can lead to security vulnerabilities.</p>
</div>
<p>For example if a route was defined as:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/some/path&#39;</span><span class="p">,@</span><span class="n">myHandler</span><span class="p">);</span>
</pre></div>
</div>
<p>Then when a request was made to <code class="docutils literal notranslate"><span class="pre">/some/path?foo=hello&amp;bar=123</span></code></p>
<p>You should be able to access parameters <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> as follows:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nf">myHandler</span><span class="p">(</span>req,res,~<span class="p">)</span>
<span class="w">    </span><span class="c">% Get the value of foo</span>
<span class="w">    </span><span class="n">foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">Query</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c">% Note that the line above would fail if parameter &quot;foo&quot;</span>
<span class="w">    </span><span class="c">% had not been set in the request, so it is better to</span>
<span class="w">    </span><span class="c">% use `lookup` with a `FallbackValue`</span>
<span class="w">    </span><span class="nb">bar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">Query</span><span class="p">.</span><span class="n">lookup</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">,</span><span class="n">FallbackValue</span><span class="p">=</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c">% And for example then also verify the input</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">bar</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">        </span><span class="n">res</span><span class="p">.</span><span class="n">Status</span><span class="p">(</span><span class="mi">400</span><span class="p">).</span><span class="n">SendText</span><span class="p">(</span><span class="s">&quot;Value bar must be provided and cannot be empty.&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Path">
<span class="sig-name descname"><span class="pre">Path</span></span><a class="headerlink" href="#Request.Path" title="Link to this definition"></a></dt>
<dd><p>The path of the request, parsed into a <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/matlab.net.uri-class.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">matlab.net.URI</span></code></a> instance.</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Body">
<span class="sig-name descname"><span class="pre">Body</span></span><a class="headerlink" href="#Request.Body" title="Link to this definition"></a></dt>
<dd><p>The raw request body as <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/uint8.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">uint8</span></code></a> bytes. It is not automatically parsed into anything else, regardless of what <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> headers may have been set. If you for example want to parse the data into a string you will need to manually do this using <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/native2unicode.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">native2unicode</span></code></a>. Or if you have a model class for the request body in question you can for example use:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">myData</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">MyServer</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">MyData</span><span class="p">().</span><span class="n">fromJSON</span><span class="p">(</span><span class="n">req</span><span class="p">.</span><span class="n">Body</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Request.Headers">
<span class="sig-name descname"><span class="pre">Headers</span></span><a class="headerlink" href="#Request.Headers" title="Link to this definition"></a></dt>
<dd><p>The headers of the request, parsed into an array of <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/matlab.net.http.headerfield-class.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">matlab.net.http.HeaderField</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="mat class">
<dt class="sig sig-object mat" id="Response">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Response</span></span><a class="headerlink" href="#Response" title="Link to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="#Response" title="Response"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Response</span></code></a> class has both properties and methods. While it is possible to directly modify the properties to influence the response, it is generally recommended to use the methods to construct the response.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None of the methods immediately send a response to the client when that method is called (despite some of them even being called <code class="docutils literal notranslate"><span class="pre">Send...</span></code>). They rather set up the response to be sent later once the method fully completes. Explicitly include <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/return.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">return</span></code></a> statements in your code where appropriate to end the function and allow the response to be send. Note that when the function ends and the response has been send, this also really end the entire interaction with the client and you can no longer send additional data/responses/etc.</p>
</div>
<p>The <a class="reference internal" href="#Response" title="Response"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Response</span></code></a> class aims to offer a fluent API, which means that most methods below will return the <a class="reference internal" href="#Response" title="Response"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">Response</span></code></a> instance itself as output. Which allows you to “chain” calls of methods together. E.g. you can write <code class="docutils literal notranslate"><span class="pre">res.Status(200).SendText(&quot;Hello</span> <span class="pre">World&quot;)</span></code> to set the status code, response body, and content type in a single line.</p>
<p><strong>Methods</strong></p>
<dl class="mat method">
<dt class="sig sig-object mat" id="Response.SendStatus">
<span class="sig-name descname"><span class="pre">SendStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">code</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.SendStatus" title="Link to this definition"></a></dt>
<dd><p>Sets the HTTP response code to the specified response code, the response body to the default text message corresponding to the code and <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header to <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>code</strong> – the numeric HTTP response code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.Status">
<span class="sig-name descname"><span class="pre">Status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">code</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.Status" title="Link to this definition"></a></dt>
<dd><p>Sets the HTTP response code to the specified response code.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>code</strong> – the numeric HTTP response code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.Json">
<span class="sig-name descname"><span class="pre">Json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.Json" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#Response.Body" title="Response.Body"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Body</span></code></a> to a JSON representation of the input data and sets <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header to <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p>
<p>The data is first converted into a string JSON representation internally by calling <code class="docutils literal notranslate"><span class="pre">jsonencode(data)</span></code>. In that sense <code class="docutils literal notranslate"><span class="pre">data</span></code> must be compatible with built-in <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/jsonencode.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">jsonencode</span></code></a> or if <code class="docutils literal notranslate"><span class="pre">data</span></code> is a class it may implement its own <code class="docutils literal notranslate"><span class="pre">jsonencode</span></code> method. Generated Model classes, do implement such a method and are fully compatible with this.</p>
<p>The string JSON data is then UTF-8 encoded using <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/unicode2native.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">unicode2native</span></code></a> to form the raw binary response body.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – input data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.JsonArray">
<span class="sig-name descname"><span class="pre">JsonArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.JsonArray" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#Response.Body" title="Response.Body"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Body</span></code></a> to a JSON <strong>Array</strong> representation of the input data and sets <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header to <code class="docutils literal notranslate"><span class="pre">application/json</span></code>. The difference with the <a class="reference internal" href="#Response.Json" title="Response.Json"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Json</span></code></a> method is that this really forces the output to always be a JSON array even if the input was just a scalar, whereas <a class="reference internal" href="#Response.Json" title="Response.Json"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Json</span></code></a> will output a <em>scalar</em> JSON object or primitive if the input was a scalar.</p>
<p>This method can be helpful because in MATLAB in general there is no real difference between “an array containing a scalar” and “just a scalar”. This method abstracts away some of the logic which you would need to add to force your scalar to become a JSON array (like having to wrap your scalar in a cell-array).</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – input data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.Send">
<span class="sig-name descname"><span class="pre">Send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.Send" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#Response.Body" title="Response.Body"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Body</span></code></a> to the input data. If the input is of type <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/char.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">char</span></code></a> or <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/string.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">string</span></code></a>, it is automatically encoded as UTF-8 bytes using <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/native2unicode.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">native2unicode</span></code></a>. If the input is of any other type, it is passed through as-is meaning it should already by of type <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/uint8.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">uint8</span></code></a> or MATLAB must be able to automatically convert it to <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/uint8.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">uint8</span></code></a>.</p>
<p>Note this method <em>never</em> sets the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header, even if it did automatically encode <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/char.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">char</span></code></a> or <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/string.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">string</span></code></a>. Use <a class="reference internal" href="#Response.SendText" title="Response.SendText"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">SendText</span></code></a> if you also automatically set it to <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>. Or use <a class="reference internal" href="#Response.Set" title="Response.Set"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Set</span></code></a> to set your own headers.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – input data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.SendText">
<span class="sig-name descname"><span class="pre">SendText</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.SendText" title="Link to this definition"></a></dt>
<dd><p>Sets the <a class="reference internal" href="#Response.Body" title="Response.Body"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Body</span></code></a> to the input text and <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header to <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>. The input text is automatically encoded as UTF-8 using <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/unicode2native.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">unicode2native</span></code></a>.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – input text.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.Set">
<span class="sig-name descname"><span class="pre">Set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em>, <em class="sig-param"><span class="pre">name</span></em>, <em class="sig-param"><span class="pre">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.Set" title="Link to this definition"></a></dt>
<dd><p>Sets a header field to the specified value. If a header with the same name had already been set, it will be overwritten with the new value. If a header with the specified name did not yet exist it will be added.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the header field.</p></li>
<li><p><strong>data</strong> – value of the header field.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">res</span></code> the response instance itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="Response.GetStruct">
<span class="sig-name descname"><span class="pre">GetStruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">res</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Response.GetStruct" title="Link to this definition"></a></dt>
<dd><p>Returns the response in Custom Routes and Payloads response structure format. You generally do not have to call this method ever, the higher level framework will call it where necessary.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a Custom Routes and Payloads response structure.</p>
</dd>
</dl>
</dd></dl>

<p><strong>Properties</strong></p>
<dl class="mat attribute">
<dt class="sig sig-object mat" id="Response.ApiVersion">
<span class="sig-name descname"><span class="pre">ApiVersion</span></span><a class="headerlink" href="#Response.ApiVersion" title="Link to this definition"></a></dt>
<dd><p>The internal API version of the Custom Routes and Payloads feature. At the time of writing there is only one version: <code class="docutils literal notranslate"><span class="pre">[1</span> <span class="pre">0</span> <span class="pre">0]</span></code>.</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Response.Body">
<span class="sig-name descname"><span class="pre">Body</span></span><a class="headerlink" href="#Response.Body" title="Link to this definition"></a></dt>
<dd><p>The response body. This is in <a class="reference external" href="https://www.mathworks.com/help/releases/R2025a/matlab/ref/uint8.html" rel="noreferrer" target="_blank" title="(in MATLAB R2025a)"><code class="xref mat mat-class docutils literal notranslate"><span class="pre">uint8</span></code></a> binary format.</p>
<p>Instead of interacting with this property directly it is recommended to use methods like <a class="reference internal" href="#Response.Send" title="Response.Send"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Send</span></code></a>, <a class="reference internal" href="#Response.SendText" title="Response.SendText"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">SendText</span></code></a>, <a class="reference internal" href="#Response.Json" title="Response.Json"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Json</span></code></a> or <a class="reference internal" href="#Response.JsonArray" title="Response.JsonArray"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">JsonArray</span></code></a> to set the <a class="reference internal" href="#Response.Body" title="Response.Body"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">Body</span></code></a> instead.</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Response.HttpCode">
<span class="sig-name descname"><span class="pre">HttpCode</span></span><a class="headerlink" href="#Response.HttpCode" title="Link to this definition"></a></dt>
<dd><p>The HTTP status code to set on the response.</p>
<p>Instead of interacting with this property directly it is recommended to use <a class="reference internal" href="#Response.Status" title="Response.Status"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Status</span></code></a> or <a class="reference internal" href="#Response.SendStatus" title="Response.SendStatus"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">SendStatus</span></code></a> to set the <a class="reference internal" href="#Response.HttpCode" title="Response.HttpCode"><code class="xref mat mat-attr docutils literal notranslate"><span class="pre">HttpCode</span></code></a> instead.</p>
<p>Its default value is <code class="docutils literal notranslate"><span class="pre">200</span></code> but for clarity it is recommended to always explicitly set the response code in your code even if should be <code class="docutils literal notranslate"><span class="pre">200</span></code>. For example:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">Query</span><span class="p">.</span><span class="n">lookup</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span><span class="n">FallbackValue</span><span class="p">=</span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="c">% For an error response you will really want to set an error response code</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">Status</span><span class="p">(</span><span class="mi">400</span><span class="p">).</span><span class="n">SendText</span><span class="p">(</span><span class="s">&quot;name parameter is required and cannot be empty&quot;</span><span class="p">);</span>
<span class="k">else</span>
<span class="w">    </span><span class="c">% Strictly speaking not absolutely necessary to set the Status to 200 - OK</span>
<span class="w">    </span><span class="c">% as it is the default, but recommended to make a clear distinction from</span>
<span class="w">    </span><span class="c">% the condition above</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">Status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="n">SendText</span><span class="p">(</span><span class="s">&quot;Hello &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="Response.Headers">
<span class="sig-name descname"><span class="pre">Headers</span></span><a class="headerlink" href="#Response.Headers" title="Link to this definition"></a></dt>
<dd><p>Array of matlab.net.http.HeaderField</p>
<p>Instead of interacting with this property directly it is recommended to use <a class="reference internal" href="#Response.Set" title="Response.Set"><code class="xref mat mat-meth docutils literal notranslate"><span class="pre">Set</span></code></a> to set headers instead.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="BuildServer.html" class="btn btn-neutral float-left" title="Building MATLAB Server Code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ServerExample.html" class="btn btn-neutral float-right" title="Server Generation Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2025, MathWorks, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>