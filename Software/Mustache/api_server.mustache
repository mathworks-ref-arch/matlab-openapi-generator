{{! Copyright notice should not propagate to generated code, as it applies to this mustache file}}
{{! Copyright 2020-2025 The MathWorks, Inc.}}
{{#operations}}
classdef {{classname}}
    {{! Output the tag values just once, normally the same for every method}}
    % {{classname}}{{#description}} {{.}}{{/description}}{{^description}} No description provided{{/description}}{{#tags}}{{#externalDocs}}
    % Info: {{description}}: {{url}}{{/externalDocs}}{{/tags}}
    %

    % This file is automatically generated using OpenAPI
    % Specification version: {{version}}
    % MATLAB Generator for OpenAPI version: {{packageVersion}}
    {{>copyrightNotice}}

    % Class properties
    properties
    end

    % Class methods
    methods (Static)
    {{#operation}}
        function {{operationId}}(req,res,~)
            {{>operation_help_text}}
            arguments
                req {{packageName}}.mws.Request
                res {{packageName}}.mws.Response
                ~
            end
            
            % TODO implement {{apiPackage}}.{{classname}}.{{operationId}}

            % Depending on the level of detail of the OpenAPI spec,
            % the input parameters which this operation may require
            % or output bodies this operation may produce, various
            % pieces of example code may have been generated below.
            %
            % These are all just examples which should be further
            % customized. It is also possible to ignore the examples
            % altogether and replace the function body entirely with
            % your own code.

            % As long as the method is not yet implemented, return
            % status code 501. Remove these lines once the operation
            % has been fully implemented.
            res.SendStatus(501);
            return
            {{#bodyParam}}{{#isModel}}
            % This operation expects a {{dataType}} as input body - {{description}}
            % This can be parsed into a MATLAB {{dataType}} object using
            try
                input = {{modelPackage}}.{{dataType}}().fromJSON(req.Body);
            catch 
                % In case parsing fails, return an error
                res.Status(400).SendText("Error parsing input body");
                return;
            end
            % Verify that required properties are set            
            requiredProperties = [...{{#vars}}{{#required}}
                "{{name}}",...{{/required}}{{/vars}}
            ];
            for prop = requiredProperties
                if isempty(input.(prop))
                   res.Status(400).SendText(sprintf("Required body parameter '%s' has not been set.",prop)); 
                   return
                end
            end
            {{/isModel}}{{/bodyParam}}{{#pathParams}}{{#-first}}
            % This operation has path parameters{{/-first}}
            % {{baseName}} - {{description}}
            % Which can be accessed in MATLAB as
            {{paramName}} = req.Params.{{baseName}};
            {{/pathParams}}{{#queryParams}}{{#-first}}
            % This operation has query parameters{{/-first}}
            % {{baseName}} - {{description}}
            % Which can be accessed in MATLAB as
            {{paramName}} = req.Query.lookup("{{baseName}}", FallbackValue="defaultValue");
            {{/queryParams}}
            {{#responses}}{{#isArray}}{{#items}}{{#isModel}}
            % This operation may respond with status code {{code}} and a body of
            % type {{dataType}} - {{description}}
            % Such a response can be formed in MATLAB using
            output = {{^isMap}}{{modelPackage}}.{{/isMap}}{{dataType}}();

            % Write your code to fill out the values of output here

            % Write the output to the response
            res.Status({{code}}).JsonArray(output);
            {{/isModel}}{{^isModel}}
            % This operation may respond with status code {{code}} 
            % This response code can be set in MATLAB using
            res.Status({{code}});
            {{/isModel}}{{/items}}{{/isArray}}{{^isArray}}{{#isModel}}
            % This operation may respond with status code {{code}} and a body of type {{dataType}} - {{message}}
            % Such a response can be formed in MATLAB using
            output = {{^isMap}}{{modelPackage}}.{{/isMap}}{{dataType}}();

            % Write your code to fill out the values of output here

            % Write the output to the response
            res.Status({{code}}).Json(output);
            {{/isModel}}{{^isModel}}
            % This operation may respond with status code {{code}} 
            % This response code can be set in MATLAB using
            res.Status({{code}});
            {{/isModel}}{{/isArray}}{{/responses}}
            
        end % {{operationId}} method
    {{/operation}}
    end %methods
end %class

{{/operations}}

